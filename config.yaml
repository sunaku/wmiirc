# custom:
  # startup:
    # - xautolock -time 10 -locker laptop-locker # security
    # - xwrits typetime=25 breaktime=1 +mouse +top # health
    # - workrave # health
    # - redshift-gtk                 # color
    # - wpa_gui -t                   # WiFi
    # - claws-mail                   # e-mail
    # - system-config-printer-applet # printer
    # - blueman-applet               # bluetooth
    # - pasystray                    # PulseAudio
    # - mpd                          # music

# script:
  # after:
    # - action 'refresh'
    # - action 'startup'

import:
  - control/*.yaml
  - control/action/*.yaml
  - display/*.yaml
  - display/color/gruvbox.yaml
  - status/*.yaml
  - status/music/mpd.yaml

ignore:
  - status/weather.yaml

display:
  bar: top
  font: 'xft:Sans-10'
  # font: '-*-tamzen-medium-*-*-*-16-*-*-*-*-*-*-*'
  border: 1

  #            _                                   _ _ _   _   _
  #   ___ ___ | |_   _ _ __ ___  _ __    ___ _ __ | (_) |_| |_(_)_ __   __ _
  #  / __/ _ \| | | | | '_ ` _ \| '_ \  / __| '_ \| | | __| __| | '_ \ / _` |
  # | (_| (_) | | |_| | | | | | | | | | \__ \ |_) | | | |_| |_| | | | | (_| |
  #  \___\___/|_|\__,_|_| |_| |_|_| |_| |___/ .__/|_|_|\__|\__|_|_| |_|\__, |
  #                                         |_|                        |___/
  column:
    mode: default
    rule: |
      /gimp/ -> 85+15
      /chat/ -> 14+86
      /.*/ -> 50+50

  #       _ _            _                                 _
  #   ___| (_) ___ _ __ | |_   _ __ ___   __ _ _ __  _ __ (_)_ __   __ _
  #  / __| | |/ _ \ '_ \| __| | '_ ` _ \ / _` | '_ \| '_ \| | '_ \ / _` |
  # | (__| | |  __/ | | | |_  | | | | | | (_| | |_) | |_) | | | | | (_| |
  #  \___|_|_|\___|_| |_|\__| |_| |_| |_|\__,_| .__/| .__/|_|_| |_|\__, |
  #                                           |_|   |_|            |___/
  client:

    # make new windows of these clients open in the current view
    'group=0':
      - '^Navigator:Firefox:'
      - '^chromium:'
      - '^pcmanfm:'
      - '^thunar:'
      - '^spacefm:'

    # make these clients open in the managed area
    'floating=off':
      - '^xterm:'

    # make these clients open in the floating area
    'floating=on':
      - '^x[a-z]+:'                  # x11
      - '^<nil>:<nil>:Event Tester$' # xev
      - '^display:'                  # imagemagick
      - ':MPlayer:'
      - 'Thunar:File Operation Progress'
      - '^alsaplayer:'
      - '^chromium:Chromium:Chromium Preferences$'
      - '^chromium:Chromium:Task Manager'
      - '^pinentry'
      - '^spacefm:Spacefm:Find Files'
      - '^tkmidity:'
      - '^vncviewer:'
      - '^wicd-client.py:'
      - '^system-config-printer.py:'
      - '^blueman-manager:'          # Bluetooth
      - '^pavucontrol:'              # PulseAudio
      - '^Browser:Firefox:'
      - '^claws-mail:Claws-mail:Network log'
      - ':mpv:'
      - '^transmission-gtk:'
      - '^scp-dbus-service.py:' # system-config-printer-applet

    # make these clients appear in all views and open in the floating area
    'floating=on tags=/./':
      - '^wimenu:'
      - '^wmii9menu:'
      - '^xfce4-notifyd:'
      - '^xmessage:'
      - '^xwrits:'

    'tags=draw':
      - '^inkscape:'
      - '^<nil>:<nil>:Sozi'

    'tags=work2 fullscreen=on':
      - '^rdesktop:'

    'tags=mail':
      - '^claws-mail:'

    'tags=gimp':
      - '^gimp'

    # 'tags=1 allow=+activate':
      # - '^ario:'
      # - '^sonata:'

    # 'tags=chat allow=+activate':
      # - '^skype:'
      # - '^Pidgin:'

    # 'tags=feed':
      # - '^liferea:'

    # 'tags=note':
      # - '^zim:'

  #      _        _               _
  #  ___| |_ __ _| |_ _   _ ___  | |__   __ _ _ __
  # / __| __/ _` | __| | | / __| | '_ \ / _` | '__|
  # \__ \ || (_| | |_| |_| \__ \ | |_) | (_| | |
  # |___/\__\__,_|\__|\__,_|___/ |_.__/ \__,_|_|
  #
  refresh: 45
  status:

    - notice:
        control:
          action:
            show_desktop: focus_view '...'
          mouse_action:
            right_click: show_desktop
            wheel_up:    focus_view_previous
            wheel_down:  focus_view_next
            wheel_click: status_refresh

    - arrange:
        params:
          default: landscape
          choices:
            landscape: |
              # tile the first two managed client side-by-side
              a = columns.first
              if a.exist? and a.length == 2 and a.next.floating?
                a.length = 1
              end
            right_stack: |
              # only two columns in the view; right one stacked
              tile_right
              columns.last.layout = :stack

    # - network:
        # params:
          # interface: wlp1s0

    # - music:

    # - volume:
        # params:
          # mixer: Master

    # - disk:
        # params:
          # path: $HOME

    - thermal:

    - memory:

    - loadavg:

    - backlight:

    - battery:
        params:
          # device: BAT1
          sleep_level: 4
          sleep_command: sudo zzz

    # - pomodoro:

    - clock:
        params:
          format: '%l:%M%P %a %m/%d'

control:

  #             _   _
  #   __ _  ___| |_(_) ___  _ __  ___
  #  / _` |/ __| __| |/ _ \| '_ \/ __|
  # | (_| | (__| |_| | (_) | | | \__ \
  #  \__,_|\___|\__|_|\___/|_| |_|___/
  #
  action:

    # startup: |
      # Array(CONFIG['custom']['startup']).each do |app|
        # # spawn app unless system 'pgrep', '-u', ENV['USER'], '-f', app
        # spawn app unless system 'pgrep', '-f', app
      # end

    refresh: |
      system 'laptop-display' # refresh display
      action 'keyboard' # re-register all shortcuts
      action 'desktop'  # repaint desktop wallpaper
      spawn 'witray'  # reposition systray on bar
      action 'status_refresh' # refresh all barlets

    lock_screen: |
      action 'music_pause'
      action 'volume_mute'
      system 'admit1 laptop-locker'
      action 'volume_unmute'
      action 'refresh'

    invert_colors: | # invert all colors on screen
      system 'xcalib -invert -alter'

    # launch_terminal: launch 'xterm'
    launch_terminal: launch 'st'
    launch_browser:  launch 'firefox'
    launch_filer:    launch 'pcmanfm'

  #      _                _             _
  #  ___| |__   ___  _ __| |_ ___ _   _| |_ ___
  # / __| '_ \ / _ \| '__| __/ __| | | | __/ __|
  # \__ \ | | | (_) | |  | || (__| |_| | |_\__ \
  # |___/_| |_|\___/|_|   \__\___|\__,_|\__|___/
  #
  mouse:
    grab                     : Mod1

  keyboard:

    prefix                   : Mod1-Control-
    group                    : ${prefix}g,
    layout                   : ${prefix}z,
    send                     : ${prefix}Shift-
    swap                     : ${prefix}w,
    view                     : ${prefix}apostrophe,

    up                       : t # I'm a Dvorak typist so it's H-T-N-S for me
    down                     : n # instead of the usual H-J-K-L you'd expect!
    left                     : h # On that note, the ordering of keys J and K
    right                    : s # always felt backward to me, so there! >8^)

  keyboard_action:

    #                     _
    #   ___  ___  ___ ___(_) ___  _ __
    #  / __|/ _ \/ __/ __| |/ _ \| '_ \
    #  \__ \  __/\__ \__ \ | (_) | | | |
    #  |___/\___||___/___/_|\___/|_| |_|
    #

    ${prefix}Delete          : lock_screen
    ${prefix}Escape          : refresh
    ${prefix}Shift-Escape    : reload
    ${prefix}q               : client_close
    ${prefix}Shift-q         : client_kill

    #  _                        _
    # | | __ _ _   _ _ __   ___| |__
    # | |/ _` | | | | '_ \ / __| '_ \
    # | | (_| | |_| | | | | (__| | | |
    # |_|\__,_|\__,_|_| |_|\___|_| |_|
    #

    ${prefix}x               : launch_terminal
    ${prefix}k               : launch_browser
    ${prefix}j               : launch_filer

    #
    #  _ __ ___   ___ _ __  _   _
    # | '_ ` _ \ / _ \ '_ \| | | |
    # | | | | | |  __/ | | | |_| |
    # |_| |_| |_|\___|_| |_|\__,_|
    #

    ${prefix}i               : action_menu
    ${prefix}e               : launch_menu

    #        _
    # __   _(_) _____      __
    # \ \ / / |/ _ \ \ /\ / /
    #  \ V /| |  __/\ V  V /
    #   \_/ |_|\___| \_/\_/
    #

    ${prefix}space           : focus_floating!
    ${prefix}comma           : focus_view_previous
    ${prefix}period          : focus_view_next
    ${prefix}o               : focus_view_recent
    ${prefix}u               : focus_view_menu

    ${prefix}1               : focus_view_1
    ${prefix}2               : focus_view_2
    ${prefix}3               : focus_view_3
    ${prefix}4               : focus_view_4
    ${prefix}5               : focus_view_5
    ${prefix}6               : focus_view_6
    ${prefix}7               : focus_view_7
    ${prefix}8               : focus_view_8
    ${prefix}9               : focus_view_9
    ${prefix}0               : focus_view_0

    ${view}a                 : focus_view_a
    ${view}b                 : focus_view_b
    ${view}c                 : focus_view_c
    ${view}d                 : focus_view_d
    ${view}e                 : focus_view_e
    ${view}f                 : focus_view_f
    ${view}g                 : focus_view_g
    ${view}h                 : focus_view_h
    ${view}i                 : focus_view_i
    ${view}j                 : focus_view_j
    ${view}k                 : focus_view_k
    ${view}l                 : focus_view_l
    ${view}m                 : focus_view_m
    ${view}n                 : focus_view_n
    ${view}o                 : focus_view_o
    ${view}p                 : focus_view_p
    ${view}q                 : focus_view_q
    ${view}r                 : focus_view_r
    ${view}s                 : focus_view_s
    ${view}t                 : focus_view_t
    ${view}u                 : focus_view_u
    ${view}v                 : focus_view_v
    ${view}w                 : focus_view_w
    ${view}x                 : focus_view_x
    ${view}y                 : focus_view_y
    ${view}z                 : focus_view_z

    #  _                         _
    # | | __ _ _   _  ___  _   _| |_
    # | |/ _` | | | |/ _ \| | | | __|
    # | | (_| | |_| | (_) | |_| | |_
    # |_|\__,_|\__, |\___/ \__,_|\__|
    #          |___/

    ${layout}w               : layout_column_equal
    ${layout}v               : layout_column_stack
    ${layout}m               : layout_column_max

    ${layout}Shift-w         : layout_view_equal
    ${layout}Shift-v         : layout_view_stack
    ${layout}Shift-m         : layout_view_max

    ${layout}r               : arrange_right
    ${layout}Control-r       : arrange_right_persist
    ${layout}Shift-r         : arrange_rightward
    ${layout}Control-Shift-r : arrange_rightward_persist
    ${layout}l               : arrange_left
    ${layout}Control-l       : arrange_left_persist
    ${layout}Shift-l         : arrange_leftward
    ${layout}Control-Shift-l : arrange_leftward_persist
    ${layout}i               : arrange_inward
    ${layout}Control-i       : arrange_inward_persist
    ${layout}o               : arrange_outward
    ${layout}Control-o       : arrange_outward_persist
    ${layout}g               : arrange_grid
    ${layout}Control-g       : arrange_grid_persist
    ${layout}s               : arrange_stack
    ${layout}Control-s       : arrange_stack_persist
    ${layout}j               : arrange_join
    ${layout}Control-j       : arrange_join_persist
    ${layout}Shift-j         : arrange_split
    ${layout}Control-Shift-j : arrange_split_persist
    ${layout}z               : arrange_persist_redo
    ${layout}Control-z       : arrange_persist_stop
    ${layout}Shift-z         : arrange_persist_menu

    #
    #   __ _ _ __ ___  _   _ _ __
    #  / _` | '__/ _ \| | | | '_ \
    # | (_| | | | (_) | |_| | |_) |
    #  \__, |_|  \___/ \__,_| .__/
    #  |___/                |_|

    ${group}g                : group_client!
    ${group}c                : group_area!
    ${group}m                : group_managed_areas!
    ${group}space            : group_floating_area!
    ${group}v                : group_view!
    ${group}a                : group_all!
    ${group}0                : ungroup_all

    ${prefix}b               : zoom_group
    ${prefix}Shift-b         : unzoom_group

    ${prefix}y               : detach_group
    ${prefix}p               : attach_client

    #       _ _            _
    #   ___| (_) ___ _ __ | |_
    #  / __| | |/ _ \ '_ \| __|
    # | (__| | |  __/ | | | |_
    #  \___|_|_|\___|_| |_|\__|
    #

    ${prefix}c               : focus_client_menu
    ${prefix}Shift-c         : client_invite_menu

    ${prefix}m               : client_fullscreen!

    ${prefix}${up}           : focus_client_up
    ${prefix}${down}         : focus_client_down
    ${prefix}${left}         : focus_client_left
    ${prefix}${right}        : focus_client_right
    ${prefix}Shift-comma     : focus_client_view_previous
    ${prefix}Shift-period    : focus_client_view_next
    ${prefix}d               : focus_client_recent

    ${prefix}Up              : grow_client_up
    ${prefix}Down            : grow_client_down
    ${prefix}Left            : grow_client_left
    ${prefix}Right           : grow_client_right
    ${prefix}Shift-Up        : shrink_client_up
    ${prefix}Shift-Down      : shrink_client_down
    ${prefix}Shift-Left      : shrink_client_left
    ${prefix}Shift-Right     : shrink_client_right

    ${send}${up}             : send_group_up
    ${send}${down}           : send_group_down
    ${send}${left}           : send_group_left
    ${send}${right}          : send_group_right

    ${send}e                 : send_group_away
    ${send}u                 : send_group_view_menu
    ${send}space             : send_group_floating!
    ${send}Delete            : group_close

    ${send}1                 : send_group_view_1
    ${send}2                 : send_group_view_2
    ${send}3                 : send_group_view_3
    ${send}4                 : send_group_view_4
    ${send}5                 : send_group_view_5
    ${send}6                 : send_group_view_6
    ${send}7                 : send_group_view_7
    ${send}8                 : send_group_view_8
    ${send}9                 : send_group_view_9
    ${send}0                 : send_group_view_0

    ${swap}${up}             : swap_client_up
    ${swap}${down}           : swap_client_down
    ${swap}${left}           : swap_client_left
    ${swap}${right}          : swap_client_right
    ${swap}Return            : swap_client_master

    ${swap}1                 : swap_client_column_1
    ${swap}2                 : swap_client_column_2
    ${swap}3                 : swap_client_column_3
    ${swap}4                 : swap_client_column_4
    ${swap}5                 : swap_client_column_5
    ${swap}6                 : swap_client_column_6
    ${swap}7                 : swap_client_column_7
    ${swap}8                 : swap_client_column_8
    ${swap}9                 : swap_client_column_9
    ${swap}0                 : swap_client_column_0

    #      _ _           _
    #   __| (_)___ _ __ | | __ _ _   _
    #  / _` | / __| '_ \| |/ _` | | | |
    # | (_| | \__ \ |_) | | (_| | |_| |
    #  \__,_|_|___/ .__/|_|\__,_|\__, |
    #             |_|            |___/

    XF86Display              : invert_colors
    XF86MonBrightnessUp      : backlight_more
    XF86MonBrightnessDown    : backlight_less

    #             _
    # __   _____ | |_   _ _ __ ___   ___
    # \ \ / / _ \| | | | | '_ ` _ \ / _ \
    #  \ V / (_) | | |_| | | | | | |  __/
    #   \_/ \___/|_|\__,_|_| |_| |_|\___|
    #

    XF86AudioRaiseVolume     : volume_more
    XF86AudioLowerVolume     : volume_less
    XF86AudioMute            : volume_mute!

    ${prefix}Shift-Prior     : volume_more
    ${prefix}Shift-Next      : volume_less
    ${prefix}Shift-Return    : volume_mute!

    #                      _
    #  _ __ ___  _   _ ___(_) ___
    # | '_ ` _ \| | | / __| |/ __|
    # | | | | | | |_| \__ \ | (__
    # |_| |_| |_|\__,_|___/_|\___|
    #

    XF86AudioPlay            : music_play!
    XF86AudioPrev            : music_previous
    XF86AudioNext            : music_next
    XF86AudioStop            : music_stop

    ${prefix}Prior           : music_previous
    ${prefix}Next            : music_next
    ${prefix}Return          : music_play!
    ${prefix}Home            : music_playlist_menu
    ${prefix}End             : music_favorite_menu
